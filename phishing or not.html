<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spot the Phishing</title>
    <style>
        :root {
            --ms-blue: #0078d4;
            --ms-blue-dark: #005a9e;
            --ms-gray-light: #f3f2f1;
            --ms-gray: #d1d1d1;
            --ms-white: #ffffff;
            font-size: 20px; /* Increased base font size by 25% from 16px */
        }

        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            background-color: var(--ms-gray-light);
            margin: 0;
            padding: 0;
            line-height: 1.6;
            color: #333;
        }

        #app {
            max-width: 480px;
            margin: 0 auto;
            background-color: var(--ms-white);
            border: 1px solid var(--ms-gray);
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
        }

        #question-counter {
            background-color: var(--ms-blue);
            color: white;
            padding: 8px;
            text-align: center;
            font-weight: 600;
            font-size: 1.1em;
        }

        #show-score-btn {
            display: none;
            width: 100%;
            padding: 12px;
            background-color: var(--ms-blue);
            color: white;
            border: none;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        #show-score-btn:hover {
            background-color: var(--ms-blue-dark);
        }

        #score-modal .modal-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 20px;
        }

        #score-modal button {
            background-color: var(--ms-blue);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 120px;
        }

        #score-modal button.hide-btn {
            background-color: #666;
        }

        #score-modal button.hide-btn:hover {
            background-color: #555;
        }

        #app::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--ms-blue), #2b88d8);
        }

        #email-container {
            padding: 10px 10px 0 10px;
        }

        #context-box {
            background-color: rgba(255, 255, 220, 0.95);
            padding: 12px;
            margin-bottom: 10px;
            border-radius: 6px;
            font-size: 0.95em;
            color: #555;
            border-left: 4px solid var(--ms-blue);
            line-height: 1.4;
        }

        #context-box .header {
            font-weight: 600;
            color: #333;
            margin-bottom: 4px;
            font-size: 0.9em;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        #email-header {
            background-color: var(--ms-white);
            color: #222;
            padding: 12px 10px 8px 10px;
            border-radius: 8px 8px 0 0;
            display: flex;
            align-items: flex-start;
            gap: 10px;
            border-bottom: 1px solid var(--ms-gray);
            position: relative;
        }
        .avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--ms-blue) 60%, #2b88d8 100%);
            color: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3em;
            font-weight: 600;
            box-shadow: 0 2px 6px rgba(0,0,0,0.07);
            flex-shrink: 0;
        }
        .header-info {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        .sender-name {
            font-weight: 600;
            font-size: 1.2em;
            color: #222;
        }
        .sender-email {
            font-size: 1em;
            color: #666;
            margin-left: 4px;
        }
        .subject {
            font-weight: 600;
            font-size: 1.15em;
            margin: 4px 0 0 0;
            color: #222;
        }
        /* Pulse animation for inspectable elements */
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(0,120,212,0.3); }
            70% { box-shadow: 0 0 0 8px rgba(0,120,212,0); }
            100% { box-shadow: 0 0 0 0 rgba(0,120,212,0); }
        }
        .pulse {
            animation: pulse 1.2s infinite;
        }

        #email-body {
            padding: 14px 10px;
            background-color: var(--ms-white);
            border: 1px solid var(--ms-gray);
            border-top: none;
            border-radius: 0 0 6px 6px;
            min-height: 120px;
            font-size: 1em;
        }

        #inspection-area {
            margin: 10px;
            padding: 10px;
            background-color: rgba(255, 255, 220, 0.95);
            border: 1px solid var(--ms-gray);
            border-radius: 6px;
            min-height: 40px;
            font-size: 1em;
            transition: all 0.3s ease;
        }

        #inspection-area:hover {
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        #answer-buttons {
            margin: 10px;
            text-align: center;
            display: flex;
            gap: 10px;
            justify-content: center;
        }

        #answer-buttons button {
            padding: 10px 0;
            background-color: var(--ms-blue);
            color: var(--ms-white);
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: 600;
            transition: all 0.3s ease;
            flex: 1;
            max-width: 160px;
        }

        #answer-buttons button:hover:not(:disabled) {
            background-color: var(--ms-blue-dark);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        #answer-buttons button:disabled {
            background-color: var(--ms-gray);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        #feedback {
            margin: 10px;
            padding: 10px;
            background-color: #fff8e1;
            border-left: 4px solid #ff9800;
            border-radius: 6px;
            display: none;
            font-size: 1em;
        }

        #feedback button {
            padding: 8px 16px;
            background-color: var(--ms-blue);
            color: var(--ms-white);
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            margin-top: 10px;
            transition: all 0.3s ease;
            font-size: 1em;
        }

        #feedback button:hover {
            background-color: var(--ms-blue-dark);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        #score-modal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
            text-align: center;
            z-index: 1000;
            min-width: 300px;
            border: 2px solid var(--ms-blue);
        }

        #score-modal h2 {
            color: var(--ms-blue);
            margin: 0 0 20px 0;
            font-size: 1.8em;
        }

        #score-modal .score {
            font-size: 3em;
            font-weight: bold;
            color: #333;
            margin: 20px 0;
            animation: scorePulse 2s infinite;
        }

        @keyframes scorePulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        #score-modal .message {
            font-size: 1.2em;
            color: #666;
            margin: 20px 0;
        }

        #score-modal button {
            background-color: var(--ms-blue);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        #score-modal button:hover {
            background-color: var(--ms-blue-dark);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .inspectable {
            color: var(--ms-blue);
            text-decoration: underline;
            cursor: pointer;
            transition: all 0.2s ease;
            padding: 2px 4px;
            border-radius: 3px;
            font-size: 1em;
            position: relative;
        }

        .inspectable:hover {
            color: var(--ms-blue-dark);
            background-color: rgba(0,120,212,0.1);
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

        @keyframes point {
            0% { transform: rotate(0deg); }
            25% { transform: rotate(-10deg); }
            75% { transform: rotate(10deg); }
            100% { transform: rotate(0deg); }
        }

        .inspectable.pulse::before {
            content: "ðŸ‘†";
            position: absolute;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 1.2em;
            animation: bounce 1s infinite, point 1s infinite;
            pointer-events: none;
            z-index: 1000;
        }

        @media (max-width: 600px) {
            :root {
                font-size: 18px;
            }
            #app {
                margin: 0;
                max-width: 100vw;
                border-radius: 0;
                box-shadow: none;
            }
            #email-header {
                border-radius: 0;
                padding: 10px 6px 6px 6px;
                gap: 8px;
            }
            #email-body {
                border-radius: 0 0 6px 6px;
                padding: 10px 6px;
            }
            #inspection-area, #feedback {
                margin: 6px;
                padding: 8px;
            }
            #answer-buttons {
                flex-direction: column;
                align-items: center;
                gap: 8px;
            }
            #answer-buttons button {
                width: 100%;
                max-width: none;
            }
        }

        #footer-banner {
            text-align: center;
            padding: 20px;
            margin-top: 30px;
            background-color: var(--ms-gray-light);
            border-top: 1px solid var(--ms-gray);
        }

        #footer-banner .created-by {
            font-size: 1.2em;
            color: #333;
            margin-bottom: 15px;
            font-weight: 600;
            letter-spacing: 0.5px;
        }

        #footer-banner .contact-text {
            margin-top: 15px;
            font-size: 1.1em;
            color: #555;
        }

        #footer-banner .contact-link {
            color: var(--ms-blue);
            text-decoration: none;
            font-weight: 600;
            transition: color 0.3s ease;
        }

        #footer-banner .contact-link:hover {
            color: var(--ms-blue-dark);
            text-decoration: underline;
        }

        #footer-banner img {
            width: 283px;
            height: 92px;
            margin: 10px auto;
        }
    </style>
</head>
<body>
    <div id="app">
        <div id="question-counter">Email 1 of 5</div>
        <div id="email-container">
            <div id="context-box">
                <div class="header">Email Context:</div>
                <div class="content"></div>
            </div>
            <div id="email-header">
                <div class="avatar"></div>
                <div class="header-info">
                    <div class="sender-name"></div>
                    <div class="sender-email"></div>
                    <div class="subject"></div>
                </div>
            </div>
            <div id="email-body"></div>
        </div>
        <div id="inspection-area">Click on underlined elements to inspect them.</div>
        <div id="answer-buttons">
            <button id="phishing-btn">Phishing</button>
            <button id="legitimate-btn">Legitimate</button>
        </div>
        <div id="feedback" style="display:none;"></div>
        <button id="show-score-btn">Show Score</button>
    </div>
    <div id="score-modal">
        <h2>Quiz Complete!</h2>
        <div class="score"></div>
        <div class="message"></div>
        <div class="modal-buttons">
            <button onclick="location.reload()">Try Again</button>
            <button class="hide-btn" onclick="document.getElementById('score-modal').style.display = 'none'">Hide</button>
        </div>
    </div>

    <div id="footer-banner">
        <div class="created-by">Created by:</div>
        <img src="https://skywavetechnologies.com/wp-content/uploads/2015/12/swt-logo.png" alt="Skywave Technologies Logo">
        <div class="contact-text">Like what you see? <a href="https://skywavetechnologies.com/contact/" class="contact-link">Contact us.</a></div>
    </div>

    <script>
        const emails = [
        {
                context: "You have a Microsoft account, but you haven't signed in recently.",
                sender: { name: "Microsoft Support", email: "support@microsoft.com", hint: "Does the domain match Microsoft's official domain?" },
                subject: "Urgent: Verify Your Account",
                date: "2023-10-01",
                body: "Dear user, we need to verify your account. Please click the link below to verify: <span class='inspectable' data-inspect='link-0'>Verify Now</span>",
                links: [
                    { display: "Verify Now", url: "http://login.microsoft.com/verify", hint: "Check if the URL is legitimate. Look for misspellings." }
                ],
                attachments: [],
                isPhishing: false,
                explanations: {
                    sender: "The domain 'microsoft.com' seems to be a legitimate Microsoft domain.",
                    links: "The link points to 'login.microsoft.com', which is Microsoft's official site.",
                    overall: "This email is a legitimate Microsoft account verification email."
                }
            },  
        {
                context: "You have a Microsoft account, but you haven't signed in recently.",
                sender: { name: "Microsoft Support", email: "support@micros0ft.com", hint: "Does the domain match Microsoft's official domain?" },
                subject: "Urgent: Verify Your Account",
                date: "2023-10-01",
                body: "Dear user, we need to verify your account. Please click the link below to verify: <span class='inspectable' data-inspect='link-0'>Verify Now</span>",
                links: [
                    { display: "Verify Now", url: "http://micros0ft-security.com/verify", hint: "Check if the URL is legitimate. Look for misspellings." }
                ],
                attachments: [],
                isPhishing: true,
                explanations: {
                    sender: "The domain 'micros0ft.com' uses a zero instead of an 'o'. Microsoft's official domain is 'microsoft.com'.",
                    links: "The link points to 'micros0ft-security.com', a fake domain mimicking Microsoft's official site.",
                    overall: "This email is a phishing attempt using a fake sender domain and a suspicious link to steal your information."
                }
            },
            {
                context: "You have a Microsoft account, but you haven't signed in recently.",
                sender: { name: "Microsoft Security", email: "security@m1crosoft.info", hint: "Does the domain match Microsoft's official domain?" },
                subject: "Account Security Alert",
                date: "2023-10-01",
                body: "We detected unusual activity on your account. Please verify your identity: <span class='inspectable' data-inspect='link-0'>Verify Account</span>",
                links: [
                    { display: "Verify Account", url: "http://m1crosoft-verify.info/secure", hint: "Check if the URL is legitimate. Look for misspellings." }
                ],
                attachments: [],
                isPhishing: true,
                explanations: {
                    sender: "The domain 'm1crosoft.info' uses a '1' instead of an 'i'. Microsoft's official domain is 'microsoft.com'.",
                    links: "The link points to 'm1crosoft-verify.info', a fake domain mimicking Microsoft's official site.",
                    overall: "This email is a phishing attempt using a fake sender domain and a suspicious link to steal your information."
                }
            },
            {
                context: "You have a Microsoft account, but you haven't signed in recently.",
                sender: { name: "Microsoft Account Team", email: "accounts@microsft-secure.com", hint: "Does the domain match Microsoft's official domain?" },
                subject: "Important: Account Verification Required",
                date: "2023-10-01",
                body: "Your account requires immediate verification. Click here to proceed: <span class='inspectable' data-inspect='link-0'>Verify Identity</span>",
                links: [
                    { display: "Verify Identity", url: "http://microsft-secure.com/validate", hint: "Check if the URL is legitimate. Look for misspellings." }
                ],
                attachments: [],
                isPhishing: true,
                explanations: {
                    sender: "The domain 'microsft-secure.com' is missing an 'o'. Microsoft's official domain is 'microsoft.com'.",
                    links: "The link points to 'microsft-secure.com', a fake domain mimicking Microsoft's official site.",
                    overall: "This email is a phishing attempt using a fake sender domain and a suspicious link to steal your information."
                }
            },
            {
                context: "You have a Microsoft account, but you haven't signed in recently.",
                sender: { name: "Microsoft Support", email: "support@microsoft-secure.net", hint: "Does the domain match Microsoft's official domain?" },
                subject: "Security Verification Needed",
                date: "2023-10-01",
                body: "To ensure your account security, please verify your details: <span class='inspectable' data-inspect='link-0'>Secure Account</span>",
                links: [
                    { display: "Secure Account", url: "http://microsoft-secure.net/verify", hint: "Check if the URL is legitimate. Look for the domain extension." }
                ],
                attachments: [],
                isPhishing: true,
                explanations: {
                    sender: "The domain 'microsoft-secure.net' uses '.net' instead of '.com'. Microsoft's official domain is 'microsoft.com'.",
                    links: "The link points to 'microsoft-secure.net', a fake domain mimicking Microsoft's official site.",
                    overall: "This email is a phishing attempt using a fake sender domain and a suspicious link to steal your information."
                }
            },
            {
                context: "You have a Microsoft account, but you haven't signed in recently.",
                sender: { name: "Microsoft Account Services", email: "accounts@microsoft-verify.org", hint: "Does the domain match Microsoft's official domain?" },
                subject: "Account Access Verification",
                date: "2023-10-01",
                body: "Your account access needs verification. Please click below: <span class='inspectable' data-inspect='link-0'>Verify Access</span>",
                links: [
                    { display: "Verify Access", url: "http://microsoft-verify.org/account", hint: "Check if the URL is legitimate. Look for the domain extension." }
                ],
                attachments: [],
                isPhishing: true,
                explanations: {
                    sender: "The domain 'microsoft-verify.org' uses '.org' instead of '.com'. Microsoft's official domain is 'microsoft.com'.",
                    links: "The link points to 'microsoft-verify.org', a fake domain mimicking Microsoft's official site.",
                    overall: "This email is a phishing attempt using a fake sender domain and a suspicious link to steal your information."
                }
            },
            {
                context: "You have a Microsoft account, but you haven't signed in recently.",
                sender: { name: "Microsoft Security Center", email: "security@microsoft-accounts.com", hint: "Does the domain match Microsoft's official domain?" },
                subject: "Account Security Check",
                date: "2023-10-01",
                body: "A security check is required for your account. Please verify: <span class='inspectable' data-inspect='link-0'>Security Check</span>",
                links: [
                    { display: "Security Check", url: "http://microsoft-accounts.com/secure", hint: "Check if the URL is legitimate. Look for the domain structure." }
                ],
                attachments: [],
                isPhishing: true,
                explanations: {
                    sender: "The domain 'microsoft-accounts.com' uses a subdomain structure not typical of Microsoft's official communications.",
                    links: "The link points to 'microsoft-accounts.com', a fake domain mimicking Microsoft's official site.",
                    overall: "This email is a phishing attempt using a fake sender domain and a suspicious link to steal your information."
                }
            },
            {
                context: "You had a meeting with Jane Smith this morning, she said that she would send notes later today",
                sender: { name: "Jane Smith", email: "jane.smith@yourcompany.com", hint: "Is this a known colleague?" },
                subject: "Meeting Notes",
                date: "2023-10-02",
                body: "Hi, attached are the notes from our last meeting. Let me know if you have any questions.",
                links: [],
                attachments: [{ name: "meeting_notes.docx", type: "docx", hint: "Is this an expected attachment?" }],
                isPhishing: false,
                explanations: {
                    sender: "The sender is a known colleague with a correct company email domain.",
                    attachments: "The attachment is expected and from a trusted source, typical for meeting follow-ups.",
                    overall: "This email is legitimate, coming from a known sender with appropriate content."
                }
            },
            {
                context: "You don't normally get emails from IT support like this",
                sender: { name: "IT Support", email: "support@yourcompany.co", hint: "Does the domain match your company's?" },
                subject: "Password Reset Required",
                date: "2023-10-03",
                body: "Dear employee, due to a security breach, we need you to reset your password immediately. Click here: <span class='inspectable' data-inspect='link-0'>Reset Password</span>",
                links: [
                    { display: "Reset Password", url: "http://yourcompany-reset.com", hint: "Is this the official URL for password reset?" }
                ],
                attachments: [],
                isPhishing: true,
                explanations: {
                    sender: "The domain 'yourcompany.co' is incorrect; the official company domain is 'yourcompany.com'.",
                    links: "The link directs to 'yourcompany-reset.com', an external site, not the company's secure intranet.",
                    overall: "This is a phishing email attempting to trick you into entering credentials on a fake site."
                }
            },
            {
                context: "Your company's annual picnic was announced in the last all-hands meeting.",
                sender: { name: "HR Department", email: "hr@yourcompany.com", hint: "Is this the official HR email?" },
                subject: "Company Picnic This Weekend",
                date: "2023-10-04",
                body: "Don't forget about the company picnic this Saturday! See you there.",
                links: [],
                attachments: [],
                isPhishing: false,
                explanations: {
                    sender: "The sender uses the official HR email address, which is expected for company announcements.",
                    overall: "This is a legitimate email with no suspicious elements, typical of internal communications."
                }
            },
            {
                context: "You don't have any pending invoices or payments expected from unknown sources.",
                sender: { name: "Asia Imports Billing", email: "asia-imports-billing@gmail.com", hint: "Do you recognize this sender?" },
                subject: "Invoice Attached",
                date: "2023-10-05",
                body: "Please find the invoice attached. Pay immediately to avoid penalties.",
                links: [],
                attachments: [{ name: "invoice.exe", type: "exe", hint: "Be cautious with executable files." }],
                isPhishing: true,
                explanations: {
                    sender: "The sender is unknown and uses a generic gmail address, not associated with any trusted entity.",
                    attachments: "The attachment is an executable file (.exe), which is highly suspicious and often used to deliver malware.",
                    overall: "This email is a phishing attempt or malware distribution, leveraging an urgent call to action and a dangerous attachment."
                }
            },
            {
                context: "You applied for a job 2 months ago, but didn't hear anything back.",
                sender: { name: "TechCorp.com HR", email: "hr@techcorp-careers.com", hint: "Is this the official TechCorp domain?" },
                subject: "Job Application Status Update",
                date: "2023-10-06",
                body: "Congratulations from TechCorp.com! We would like to proceed with your application. Please complete the attached form and provide your personal details: <span class='inspectable' data-inspect='link-0'>Application Form</span>",
                links: [
                    { display: "Application Form", url: "http://techcorp-hiring.com/form", hint: "Is this the official TechCorp.com careers website?" }
                ],
                attachments: [],
                isPhishing: true,
                explanations: {
                    sender: "The domain 'techcorp-careers.com' is suspicious. TechCorp would use their official domain 'techcorp.com'.",
                    links: "The link points to an external site not associated with TechCorp's official website.",
                    overall: "This is likely a phishing attempt targeting job seekers, trying to collect personal information through a fake application process."
                }
            },
            {
                context: "You're expecting a package delivery from Lazada today.",
                sender: { name: "Amazon Delivery", email: "delivery@lazada.co.th", hint: "Is this the official Lazada domain?" },
                subject: "Your Package Delivery Update",
                date: "2025-10-07",
                body: "Your package is out for delivery. Track your delivery here: <span class='inspectable' data-inspect='link-0'>Track Package</span>",
                links: [
                    { display: "Track Package", url: "https://lazada.co.th/track/123456", hint: "Is this the official Lazada website URL?" }
                ],
                attachments: [],
                isPhishing: false,
                explanations: {
                    sender: "The sender uses the official Lazada domain, which is correct for delivery notifications.",
                    links: "The link points to the legitimate Lazada tracking page with a proper tracking number format.",
                    overall: "This is a legitimate delivery notification from Lazada with appropriate links and sender information."
                }
            },
            {
                context: "You use online banking service with Kasikorn Bank, but you haven't seen an email like this before.",
                sender: { name: "Security Alert", email: "security@bank-secure.net", hint: "Does this match your bank's official domain?" },
                subject: "Suspicious Activity Detected",
                date: "2023-10-08",
                body: "We detected unusual activity on your account. Click here to verify your identity: <span class='inspectable' data-inspect='link-0'>Verify Account</span>",
                links: [
                    { display: "Verify Account", url: "http://bank-secure.net/verify", hint: "Is this your bank's official security page?" }
                ],
                attachments: [],
                isPhishing: true,
                explanations: {
                    sender: "The domain 'bank-secure.net' is suspicious. Banks like Kasikorn Bank use their official domains for security communications.",
                    links: "The link points to an external site not associated with Kasikorn Bank's official security page.",
                    overall: "This is a phishing attempt trying to steal banking credentials by creating a false sense of urgency."
                }
            },
            {
                context: "Your company's IT team will sometimes send out security bulletins",
                sender: { name: "Security Team", email: "security@yourcompany-com.info", hint: "Is this the official security team email?" },
                subject: "Monthly Security Update",
                date: "2025-10-09",
                body: "Please review the attached security bulletin for this month's updates and recommendations.",
                links: [],
                attachments: [{ name: "security_bulletin.exe", type: "exe", hint: "Is this an expected document? Is .exe a valid document type?" }],
                isPhishing: true,
                explanations: {
                    sender: "The sender uses the email domain 'yourcompany-com.info' which is attempting to copy the official company domain 'yourcompany.com'",
                    attachments: "The attachment is a .exe executable file, not a document.",
                    overall: "This is a phishing attempt to trick you into opening a potentially malicious file (virus)."
                }
            },
            {
                context: "You recently posted a job listing on a professional networking site.",
                sender: { name: "LinkedIn Jobs", email: "jobs@linkedin-professional.com", hint: "Is this the official LinkedIn domain?" },
                subject: "New Job Application Received",
                date: "2023-10-10",
                body: "You have received a new job application. Click here to view the candidate's profile: <span class='inspectable' data-inspect='link-0'>View Profile</span>",
                links: [
                    { display: "View Profile", url: "http://linkedin-professional.com/profile", hint: "Is this the official LinkedIn jobs platform?" }
                ],
                attachments: [],
                isPhishing: true,
                explanations: {
                    sender: "The domain 'linkedin-professional.com' is fake. LinkedIn uses 'linkedin.com' for all communications.",
                    links: "The link points to an external site not associated with LinkedIn's official platform.",
                    overall: "This is a phishing attempt targeting recruiters, trying to steal LinkedIn credentials."
                }
            },
            {
                context: "You have a Google account, but you haven't signed in recently.",
                sender: { name: "Google Security", email: "security@gooogle.com", hint: "Does the domain match Google's official domain?" },
                subject: "Security Alert: Unusual Activity",
                date: "2023-10-01",
                body: "We detected unusual activity on your Google account. Please verify your identity: <span class='inspectable' data-inspect='link-0'>Verify Account</span>",
                links: [
                    { display: "Verify Account", url: "http://gooogle-security.com/verify", hint: "Check if the URL is legitimate. Look for misspellings." }
                ],
                attachments: [],
                isPhishing: true,
                explanations: {
                    sender: "The domain 'gooogle.com' has an extra 'o'. Google's official domain is 'google.com'.",
                    links: "The link points to 'gooogle-security.com', a fake domain mimicking Google's official site.",
                    overall: "This email is a phishing attempt using a fake sender domain and a suspicious link to steal your information."
                }
            },
            {
                context: "You have a Google account, but you haven't signed in recently.",
                sender: { name: "Google Account Team", email: "accounts@g00gle.com", hint: "Does the domain match Google's official domain?" },
                subject: "Account Access Verification",
                date: "2023-10-01",
                body: "Your Google account requires immediate verification. Click here to proceed: <span class='inspectable' data-inspect='link-0'>Verify Now</span>",
                links: [
                    { display: "Verify Now", url: "http://g00gle-verify.com/secure", hint: "Check if the URL is legitimate. Look for misspellings." }
                ],
                attachments: [],
                isPhishing: true,
                explanations: {
                    sender: "The domain 'g00gle.com' uses zeros instead of 'o's. Google's official domain is 'google.com'.",
                    links: "The link points to 'g00gle-verify.com', a fake domain mimicking Google's official site.",
                    overall: "This email is a phishing attempt using a fake sender domain and a suspicious link to steal your information."
                }
            },
            {
                context: "You have a Google account, but you haven't signed in recently.",
                sender: { name: "Google Support", email: "support@google-secure.net", hint: "Does the domain match Google's official domain?" },
                subject: "Important: Account Security Check",
                date: "2023-10-01",
                body: "To ensure your account security, please verify your details: <span class='inspectable' data-inspect='link-0'>Security Check</span>",
                links: [
                    { display: "Security Check", url: "http://google-secure.net/verify", hint: "Check if the URL is legitimate. Look for the domain extension." }
                ],
                attachments: [],
                isPhishing: true,
                explanations: {
                    sender: "The domain 'google-secure.net' uses '.net' instead of '.com'. Google's official domain is 'google.com'.",
                    links: "The link points to 'google-secure.net', a fake domain mimicking Google's official site.",
                    overall: "This email is a phishing attempt using a fake sender domain and a suspicious link to steal your information."
                }
            },
            {
                context: "You have a Google account, but you haven't signed in recently.",
                sender: { name: "Google Account Services", email: "accounts@google-verify.org", hint: "Does the domain match Google's official domain?" },
                subject: "Account Verification Required",
                date: "2023-10-01",
                body: "Your Google account needs verification. Please click below: <span class='inspectable' data-inspect='link-0'>Verify Access</span>",
                links: [
                    { display: "Verify Access", url: "http://google-verify.org/account", hint: "Check if the URL is legitimate. Look for the domain extension." }
                ],
                attachments: [],
                isPhishing: true,
                explanations: {
                    sender: "The domain 'google-verify.org' uses '.org' instead of '.com'. Google's official domain is 'google.com'.",
                    links: "The link points to 'google-verify.org', a fake domain mimicking Google's official site.",
                    overall: "This email is a phishing attempt using a fake sender domain and a suspicious link to steal your information."
                }
            },
            {
                context: "You have a Google account, but you haven't signed in recently.",
                sender: { name: "Google Security Center", email: "security@google-accounts.com", hint: "Does the domain match Google's official domain?" },
                subject: "Security Verification Alert",
                date: "2023-10-01",
                body: "A security verification is required for your account. Please verify: <span class='inspectable' data-inspect='link-0'>Verify Security</span>",
                links: [
                    { display: "Verify Security", url: "http://google-accounts.com/secure", hint: "Check if the URL is legitimate. Look for the domain structure." }
                ],
                attachments: [],
                isPhishing: true,
                explanations: {
                    sender: "The domain 'google-accounts.com' uses a subdomain structure not typical of Google's official communications.",
                    links: "The link points to 'google-accounts.com', a fake domain mimicking Google's official site.",
                    overall: "This email is a phishing attempt using a fake sender domain and a suspicious link to steal your information."
                }
            },
            {
                context: "You have a Google account, but you haven't signed in recently.",
                sender: { name: "Google Security Center", email: "security@google.com", hint: "Does the domain match Google's official domain?" },
                subject: "Security Verification Alert",
                date: "2023-10-01",
                body: "A security verification is required for your account. Please verify: <span class='inspectable' data-inspect='link-0'>Verify Security</span>",
                links: [
                    { display: "Verify Security", url: "http://google.com/secure", hint: "Check if the URL is legitimate. Look for the domain structure." }
                ],
                attachments: [],
                isPhishing: false,
                explanations: {
                    sender: "The domain 'google.com' is the correct official domain for Google.",
                    links: "The link points to 'google.com', the official Google website.",
                    overall: "This email is a legitimate security verification from Google."
                }
            },
            {
                context: "You have a Bangkok Bank account and recently made an online transaction.",
                sender: { name: "Bangkok Bank", email: "security@bangkokbank-secure.com", hint: "Is this the official Bangkok Bank domain?" },
                subject: "Transaction Alert",
                date: "2023-10-01",
                body: "We detected a transaction on your account. Please verify: <span class='inspectable' data-inspect='link-0'>Verify Transaction</span>",
                links: [
                    { display: "Verify Transaction", url: "http://bangkokbank-secure.com/verify", hint: "Is this the official Bangkok Bank security page?" }
                ],
                attachments: [],
                isPhishing: true,
                explanations: {
                    sender: "The domain 'bangkokbank-secure.com' is not the official Bangkok Bank domain (should be bangkokbank.com).",
                    links: "The link points to an external site not associated with Bangkok Bank's official security page.",
                    overall: "This is a phishing attempt trying to steal banking credentials by creating a false sense of urgency."
                }
            },
            {
                context: "You recently booked a hotel in Phuket through Agoda.",
                sender: { name: "Agoda Support", email: "support@agoda-booking.com", hint: "Is this the official Agoda domain?" },
                subject: "Booking Confirmation Required",
                date: "2023-10-01",
                body: "Please confirm your hotel booking details: <span class='inspectable' data-inspect='link-0'>View Booking</span>",
                links: [
                    { display: "View Booking", url: "http://agoda-booking.com/confirm", hint: "Is this the official Agoda booking page?" }
                ],
                attachments: [],
                isPhishing: true,
                explanations: {
                    sender: "The domain 'agoda-booking.com' is not the official Agoda domain (should be agoda.com).",
                    links: "The link points to an external site not associated with Agoda's official platform.",
                    overall: "This is a phishing attempt trying to steal booking information and potentially payment details."
                }
            },
            {
                context: "You're expecting a package delivery from Kerry Express.",
                sender: { name: "Kerry Express", email: "tracking@kerryexpress.com", hint: "Is this the official Kerry Express domain?" },
                subject: "Package Delivery Update",
                date: "2023-10-01",
                body: "Your package is out for delivery. Track it here: <span class='inspectable' data-inspect='link-0'>Track Package</span>",
                links: [
                    { display: "Track Package", url: "https://th.kerryexpress.com/track/KE123456", hint: "Is this the official Kerry Express tracking URL?" }
                ],
                attachments: [],
                isPhishing: false,
                explanations: {
                    sender: "The domain 'kerryexpress.com' is the official Kerry Express domain.",
                    links: "The link points to the official Kerry Express tracking page with a proper tracking number format.",
                    overall: "This is a legitimate delivery notification from Kerry Express."
                }
            },
            {
                context: "You recently applied for a job at Central Group.",
                sender: { name: "Central Group HR", email: "hr@central-group.co.th", hint: "Is this the official Central Group domain?" },
                subject: "Job Application Status",
                date: "2023-10-01",
                body: "Thank you for your application. Please complete the attached form: <span class='inspectable' data-inspect='attachment-0'>Application Form</span>",
                links: [],
                attachments: [
                    { name: "application_form.exe", type: "exe", hint: "Is this a safe file type for a job application?" }
                ],
                isPhishing: true,
                explanations: {
                    sender: "The domain 'central-group.co.th' is not the official Central Group domain.",
                    attachments: "The attachment is an executable file (.exe), which is highly suspicious and often used to deliver malware.",
                    overall: "This is a phishing attempt trying to deliver malware through a fake job application process."
                }
            },
            {
                context: "You have a True Move H mobile account.",
                sender: { name: "True Move H", email: "service@true.th", hint: "Is this the official True Move H domain?" },
                subject: "Bill Payment Reminder",
                date: "2023-10-01",
                body: "Your monthly bill is ready. View and pay here: <span class='inspectable' data-inspect='link-0'>Pay Bill</span>",
                links: [
                    { display: "Pay Bill", url: "https://www.true.th/bill", hint: "Is this the official True Move H payment page?" }
                ],
                attachments: [],
                isPhishing: false,
                explanations: {
                    sender: "The domain 'true.th' is the official True Move H domain.",
                    links: "The link points to the official True website.",
                    overall: "This is a legitimate bill payment reminder from True Move H."
                }
            },
            {
                context: "You recently purchased items from Lazada Thailand.",
                sender: { name: "Lazada Support", email: "support@lazada-secure.com", hint: "Is this the official Lazada domain?" },
                subject: "Order Verification Required",
                date: "2023-10-01",
                body: "Please verify your recent order details: <span class='inspectable' data-inspect='link-0'>Verify Order</span>",
                links: [
                    { display: "Verify Order", url: "http://lazada-secure.com/verify", hint: "Is this the official Lazada verification page?" }
                ],
                attachments: [],
                isPhishing: true,
                explanations: {
                    sender: "The domain 'lazada-secure.com' is not the official Lazada domain (should be lazada.co.th).",
                    links: "The link points to an external site not associated with Lazada's official platform.",
                    overall: "This is a phishing attempt trying to steal Lazada account credentials."
                }
            },
            {
                context: "You have a SCB (Siam Commercial Bank) account.",
                sender: { name: "SCB Security", email: "security@scb.co.th", hint: "Is this the official SCB domain?" },
                subject: "Security Update Required",
                date: "2023-10-01",
                body: "Please update your security settings: <span class='inspectable' data-inspect='link-0'>Update Security</span>",
                links: [
                    { display: "Update Security", url: "https://www.scb.co.th/security", hint: "Is this the official SCB security page?" }
                ],
                attachments: [],
                isPhishing: false,
                explanations: {
                    sender: "The domain 'scb.co.th' is the official Siam Commercial Bank domain.",
                    links: "The link points to the official SCB security settings page.",
                    overall: "This is a legitimate security update request from SCB."
                }
            },
            {
                context: "You recently booked a flight with Thai Airways.",
                sender: { name: "Thai Airways", email: "booking@thaiairways.com", hint: "Is this the official Thai Airways domain?" },
                subject: "Flight Itinerary",
                date: "2023-10-01",
                body: "Your flight itinerary is attached. Please review: <span class='inspectable' data-inspect='attachment-0'>Itinerary.pdf</span>",
                links: [],
                attachments: [
                    { name: "itinerary.pdf", type: "pdf", hint: "Is this an expected file type for a flight itinerary?" }
                ],
                isPhishing: false,
                explanations: {
                    sender: "The domain 'thaiairways.com' is the official Thai Airways domain.",
                    attachments: "The attachment is a PDF file, which is a standard format for flight itineraries.",
                    overall: "This is a legitimate flight itinerary email from Thai Airways."
                }
            },
            {
                context: "You have a LINE Pay account linked to your bank.",
                sender: { name: "LINE Pay", email: "security@line-pay-secure.com", hint: "Is this the official LINE Pay domain?" },
                subject: "Account Security Alert",
                date: "2023-10-01",
                body: "Unusual activity detected. Verify your account: <span class='inspectable' data-inspect='link-0'>Verify Account</span>",
                links: [
                    { display: "Verify Account", url: "http://line-pay-secure.com/verify", hint: "Is this the official LINE Pay security page?" }
                ],
                attachments: [],
                isPhishing: true,
                explanations: {
                    sender: "The domain 'line-pay-secure.com' is not the official LINE Pay domain.",
                    links: "The link points to an external site not associated with LINE Pay's official security page.",
                    overall: "This is a phishing attempt trying to steal LINE Pay account credentials."
                }
            },
            {
                context: "You recently ordered from Grab Food.",
                sender: { name: "Grab Food", email: "support@grab.com", hint: "Is this the official Grab domain?" },
                subject: "Order Confirmation",
                date: "2023-10-01",
                body: "Your order has been confirmed. Track it here: <span class='inspectable' data-inspect='link-0'>Track Order</span>",
                links: [
                    { display: "Track Order", url: "https://food.grab.com/track/GR123456", hint: "Is this the official Grab Food tracking URL?" }
                ],
                attachments: [],
                isPhishing: false,
                explanations: {
                    sender: "The domain 'grab.com' is the official Grab domain.",
                    links: "The link points to the official Grab Food tracking page with a proper order number format.",
                    overall: "This is a legitimate order confirmation from Grab Food."
                }
            },
            {
                context: "You have a TMB Bank account.",
                sender: { name: "TMB Bank", email: "security@tmb-bank-secure.com", hint: "Is this the official TMB Bank domain?" },
                subject: "Account Verification Required",
                date: "2023-10-01",
                body: "Please verify your account details: <span class='inspectable' data-inspect='link-0'>Verify Account</span>",
                links: [
                    { display: "Verify Account", url: "http://tmb-bank-secure.com/verify", hint: "Is this the official TMB Bank verification page?" }
                ],
                attachments: [],
                isPhishing: true,
                explanations: {
                    sender: "The domain 'tmb-bank-secure.com' is not the official TMB Bank domain (should be tmb.co.th).",
                    links: "The link points to an external site not associated with TMB Bank's official website.",
                    overall: "This is a phishing attempt trying to steal banking credentials."
                }
            },
            {
                context: "You recently booked a hotel through Booking.com.",
                sender: { name: "Booking.com", email: "support@booking.com", hint: "Is this the official Booking.com domain?" },
                subject: "Booking Confirmation",
                date: "2023-10-01",
                body: "Your hotel booking is confirmed. View details here: <span class='inspectable' data-inspect='link-0'>View Booking</span>",
                links: [
                    { display: "View Booking", url: "https://www.booking.com/confirmation/BK123456", hint: "Is this the official Booking.com confirmation page?" }
                ],
                attachments: [],
                isPhishing: false,
                explanations: {
                    sender: "The domain 'booking.com' is the official Booking.com domain.",
                    links: "The link points to the official Booking.com confirmation page with a proper booking number format.",
                    overall: "This is a legitimate booking confirmation from Booking.com."
                }
            },
            {
                context: "You have a DTAC mobile account.",
                sender: { name: "DTAC Support", email: "support@dtac-secure.com", hint: "Is this the official DTAC domain?" },
                subject: "Account Security Update",
                date: "2023-10-01",
                body: "Please update your security settings: <span class='inspectable' data-inspect='link-0'>Update Security</span>",
                links: [
                    { display: "Update Security", url: "http://dtac-secure.com/update", hint: "Is this the official DTAC security page?" }
                ],
                attachments: [],
                isPhishing: true,
                explanations: {
                    sender: "The domain 'dtac-secure.com' is not the official DTAC domain (should be dtac.co.th).",
                    links: "The link points to an external site not associated with DTAC's official website.",
                    overall: "This is a phishing attempt trying to steal DTAC account credentials."
                }
            },
            {
                context: "You recently ordered from Central Online.",
                sender: { name: "Central Online", email: "support@central-online-secure.com", hint: "Is this the official Central Online domain?" },
                subject: "Order Verification Required",
                date: "2023-10-01",
                body: "Please verify your order details: <span class='inspectable' data-inspect='link-0'>Verify Order</span>",
                links: [
                    { display: "Verify Order", url: "http://central-online-secure.com/verify", hint: "Is this the official Central Online verification page?" }
                ],
                attachments: [],
                isPhishing: true,
                explanations: {
                    sender: "The domain 'central-online-secure.com' is not the official Central Online domain.",
                    links: "The link points to an external site not associated with Central Online's official platform.",
                    overall: "This is a phishing attempt trying to steal Central Online account credentials."
                }
            },
            {
                context: "You have a BTS Skytrain Rabbit Card.",
                sender: { name: "BTS Skytrain", email: "support@bts.co.th", hint: "Is this the official BTS domain?" },
                subject: "Card Balance Update",
                date: "2023-10-01",
                body: "Your Rabbit Card balance is low. Top up here: <span class='inspectable' data-inspect='link-0'>Top Up</span>",
                links: [
                    { display: "Top Up", url: "https://www.bts.co.th/topup", hint: "Is this the official BTS top-up page?" }
                ],
                attachments: [],
                isPhishing: false,
                explanations: {
                    sender: "The domain 'bts.co.th' is the official BTS Skytrain domain.",
                    links: "The link points to the official BTS top-up page.",
                    overall: "This is a legitimate balance update notification from BTS Skytrain."
                }
            }
        ];

        // Function to shuffle array using Fisher-Yates algorithm
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // Select 5 random emails
        const selectedEmails = shuffleArray([...emails]).slice(0, 5);

        let currentIndex = 0;
        let score = 0;
        let pulseTimeout;

        function loadEmail(index) {
            const email = selectedEmails[index];
            // Update question counter
            document.getElementById('question-counter').textContent = `Email ${index + 1} of ${selectedEmails.length}`;
            // Set context
            document.querySelector('#context-box .content').textContent = email.context;
            // Set avatar initials
            const initials = email.sender.name.split(' ').map(w => w[0]).join('').substring(0,2).toUpperCase();
            document.querySelector('#email-header .avatar').textContent = initials;
            // Set sender name and email
            document.querySelector('#email-header .sender-name').innerHTML = `<span class="inspectable" data-inspect="sender">${email.sender.name}</span>`;
            document.querySelector('#email-header .sender-email').innerHTML = `&lt;${email.sender.email}&gt;`;
            // Set subject
            document.querySelector('#email-header .subject').textContent = email.subject;
            // Email body and rest
            let bodyHtml = email.body;
            if (email.attachments.length > 0) {
                bodyHtml += '<div>Attachments: ';
                email.attachments.forEach((att, i) => {
                    bodyHtml += `<span class="inspectable" data-inspect="attachment-${i}">${att.name}</span> `;
                });
                bodyHtml += '</div>';
            }
            document.getElementById('email-body').innerHTML = bodyHtml;
            document.getElementById('inspection-area').innerHTML = 'Click on underlined elements to inspect them.';
            document.getElementById('feedback').style.display = 'none';
            document.getElementById('phishing-btn').disabled = false;
            document.getElementById('legitimate-btn').disabled = false;
            // Remove any previous pulse and inspected classes
            document.querySelectorAll('.inspectable').forEach(el => {
                el.classList.remove('pulse', 'inspected');
            });
            if (pulseTimeout) clearTimeout(pulseTimeout);
            // Add pulse after 5 seconds
            pulseTimeout = setTimeout(() => {
                document.querySelectorAll('.inspectable:not(.inspected)').forEach(el => el.classList.add('pulse'));
            }, 5000);
        }

        document.addEventListener('click', function(e) {
            if (e.target.hasAttribute('data-inspect')) {
                const inspectType = e.target.getAttribute('data-inspect');
                const email = selectedEmails[currentIndex];
                let inspectionText = '';
                if (inspectType === 'sender') {
                    inspectionText = `Sender's email: ${email.sender.email}<br>Hint: ${email.sender.hint}`;
                } else if (inspectType.startsWith('link-')) {
                    const linkIndex = parseInt(inspectType.split('-')[1]);
                    const link = email.links[linkIndex];
                    inspectionText = `Link URL: ${link.url}<br>Hint: ${link.hint}`;
                } else if (inspectType.startsWith('attachment-')) {
                    const attIndex = parseInt(inspectType.split('-')[1]);
                    const att = email.attachments[attIndex];
                    inspectionText = `Attachment: ${att.name} (${att.type})<br>Hint: ${att.hint}`;
                }
                document.getElementById('inspection-area').innerHTML = inspectionText;
                // Only remove pulse from the clicked element
                e.target.classList.remove('pulse');
                // Add a class to mark this element as inspected
                e.target.classList.add('inspected');
            }
        });

        function checkAnswer(isPhishing) {
            const email = selectedEmails[currentIndex];
            const correct = (isPhishing === email.isPhishing);
            if (correct) score++;
            const feedbackDiv = document.getElementById('feedback');
            feedbackDiv.innerHTML = `<p>${correct ? 'Correct!' : 'Incorrect.'}</p>`;
            feedbackDiv.innerHTML += `<p>${email.explanations.overall}</p>`;
            feedbackDiv.innerHTML += `<p>Sender: ${email.explanations.sender}</p>`;
            if (email.links.length > 0) {
                feedbackDiv.innerHTML += `<p>Link: ${email.explanations.links}</p>`;
            }
            if (email.attachments.length > 0) {
                feedbackDiv.innerHTML += `<p>Attachment: ${email.explanations.attachments}</p>`;
            }
            feedbackDiv.style.display = 'block';
            document.getElementById('phishing-btn').disabled = true;
            document.getElementById('legitimate-btn').disabled = true;
            if (currentIndex < selectedEmails.length - 1) {
                const nextBtn = document.createElement('button');
                nextBtn.textContent = 'Next';
                nextBtn.onclick = function() {
                    currentIndex++;
                    loadEmail(currentIndex);
                };
                feedbackDiv.appendChild(nextBtn);
            } else {
                // Show the "Show Score" button instead of automatically showing the modal
                document.getElementById('show-score-btn').style.display = 'block';
            }
        }

        // Add event listener for the show score button
        document.getElementById('show-score-btn').addEventListener('click', function() {
            const scoreModal = document.getElementById('score-modal');
            const scoreDiv = scoreModal.querySelector('.score');
            const messageDiv = scoreModal.querySelector('.message');
            
            scoreDiv.textContent = `${score}/${selectedEmails.length}`;
            
            // Add a message based on the score
            const percentage = (score / selectedEmails.length) * 100;
            if (percentage === 100) {
                messageDiv.textContent = "Perfect score! You're a phishing detection expert!";
            } else if (percentage >= 80) {
                messageDiv.textContent = "Great job! You're very good at spotting phishing attempts!";
            } else if (percentage >= 60) {
                messageDiv.textContent = "Good effort! Keep practicing to improve your detection skills.";
            } else {
                messageDiv.textContent = "Keep practicing! Learning to spot phishing attempts takes time.";
            }
            
            scoreModal.style.display = 'block';
        });

        document.getElementById('phishing-btn').onclick = function() {
            checkAnswer(true);
        };
        document.getElementById('legitimate-btn').onclick = function() {
            checkAnswer(false);
        };

        loadEmail(0);
    </script>
</body>
</html>
